<!--
  @description       : 
  @author            : Remario Richards
  @group             : 
  @last modified on  : 11-12-2023
  @last modified by  : Remario Richards
-->
<template>
    <div class="slds-form-element">
        <label for="lookup" class="slds-form-element__label">{label}</label>
        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
            <lightning-input
                type="text"
                id="lookup"
                value={searchTerm}
                onchange={handleSearch}
                label="Search Contacts"
            ></lightning-input>
            <lightning-icon icon-name="utility:search" size="small" class="slds-input__icon slds-input__icon_right"></lightning-icon>
        </div>
        <template if:true={showDropdown}>
            <div class="slds-dropdown slds-dropdown_length-with-icon-10 slds-dropdown_fluid">
                <ul class="slds-listbox slds-listbox_vertical" role="listbox">
                    <template for:each={searchResults} for:item="contact">
                        <li key={contact.Id} role="presentation">
                            <div class="slds-media slds-listbox__option slds-listbox__option_entity" role="option" data-id={contact.Id} data-name={contact.Name} onclick={handleSelect}>
                                <span class="slds-media__body">
                                    <span class="slds-truncate" title={contact.Name}>{contact.Name}</span>
                                </span>
                            </div>
                        </li>
                    </template>
                </ul>
            </div>
        </template>
    </div>
</template>